---
import type { CollectionEntry } from 'astro:content';

interface Props {
  article: CollectionEntry<'articles'>;
  prevArticle?: CollectionEntry<'articles'>;
  nextArticle?: CollectionEntry<'articles'>;
}

const { article, prevArticle, nextArticle } = Astro.props;
const { Content } = await article.render();

// SVGファイルのパスを生成
const pixelSvgPath = `/assets/${article.data.id}_pixel.svg`;
const patternSvgPath = `/assets/${article.data.id}_pattern.svg`;
---

<article>
  <header>
    <h1 class="text-3xl font-bold underline">{article.data.title}</h1>
    <p>
      {article.data.pubDate.toLocaleDateString('ja-JP')}
    </p>
    <div class="flex gap-4 my-4">
      <img
        src={pixelSvgPath}
        alt={`${article.data.title} pixel art`}
        class="w-32 h-32"
      />
      <img
        src={patternSvgPath}
        alt={`${article.data.title} pattern`}
        class="w-32 h-32"
      />
    </div>
  </header>

  <div>
    <Content />
  </div>

  <nav>
    <div>
      {prevArticle && (
        <a href={`/${prevArticle.id.replace('.md', '')}`}>
          ← {prevArticle.data.title}
        </a>
      )}
      {nextArticle && (
        <a href={`/${nextArticle.id.replace('.md', '')}`}>
          {nextArticle.data.title} →
        </a>
      )}
    </div>
  </nav>
</article> 